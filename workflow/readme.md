# coze几个节点的用法

## coze 节点
### 每个节点的功能
1.大模型节点，给它输入和prompt就行，可以选择输出string或者json。有一点计算如果涉及计算的话，如果你选的是豆包，4*3 会= 40，要给她加一个计算插件才能算对。另外我感觉最好用的就是deepseekr1,比较不容易出错，都是费token. 
2.if节点个人感觉很不好用，特别是要根据不同的值来分类的情况，这里更推荐用代码节点。
3.for循环节点
  1.左边的节点就是接入节点，右边的节点就是输出节点，另外它自带一个循环体，从左边框那个节点开始，到右边框那个节点结束。
  2.循环次数有无限循环和指定次数，和遍历数组的形式，遗憾的是没有break节点，所以会有点难受。
4.代码节点
  1.可以选择python和javascript两种语言。
  2.传入的参数可以是数组，string,number,boolean,json,但是传出的变量很奇葩，只允许string,object,Array<obj>,返回boolean,number会报错
5.知识库节点
  1.只能传入自然语言，对，传入sql它是没有返回结果的进行很简单的查询只能用自然语言，如果是长一点的sql语句比如 SELECT 
    u.username,
    o.order_date,
    SUM(od.quantity * od.unit_price) AS total_amount,
    COUNT(DISTINCT od.product_id) AS product_types
    FROM users u
    JOIN orders o ON u.user_id = o.user_id 
    的转换成的自然语言它也是不给你返回结果的。
  2.返回的结果是固定的，返回一个对象，里面有一个表id和结果字符串，所以如果我要用里面的数据必须用代码块来处理，或者直接扔给大模型处理。
6.数据库节点  
  1.新增数据：就是引用别的节点的变量，可以配合代码块实现想存什么字段就存什么字段，或者懒得写就直接给大模型处理返回一个json,然后把里面的变量写到相应的字段里面。
  2.更新变量：可以通过设置更新条件来写怎么更新，除了===、！==、>、<、>=、<= 还有模糊匹配，和模糊不匹配的条件，匹配后就可以通过给它赋值的方式更新变量。
  3.删除变量，和更新一样的逻辑，只是符合条件就删除。
  4.自定义sql,可以通过设置sql语句来实现自定义sql语句，并且返回结果也高度自定义
  个人感觉这个节点是操作空间很大，基本可以对数据库像干啥就干啥，缺点就是一个库就是一个表，不能跨库，也不能跨表，只能在一个库里面操作一个表。
6.输出节点
  可以输出一段固定的话，还挺实用的，比如有些流程很长可以告诉用户完成的进度，好让他有耐心等待，对了，所谓的流式输出就是生成一个字就蹦一个字。
## 节点排布规则
  1.节点之间不能成环，否则会报错。
  2.每个节点必须的可连接出一定要连接，否则少连一个点都会报错。
  